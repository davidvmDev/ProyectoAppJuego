/*! proyectoappjuego 2020-03-19 */

var tiempoRonda,secciones=[],tiempo_splash=4400,ref_arr=[],resp_arr=[],jugando=!1,NumeroEspeciales=3,especiales=[],id="",rondaa=1,vidas=3,estaContando=!1,vectorVidas=[];puntaje=document.getElementById("tiempo");for(var i=1;i<4;i++)vectorVidas[i]=document.getElementById("vida"+i);refRonda=document.getElementById("ronda");var refTablero=document.getElementById("tablero"),refVolver=document.getElementById("btnVolver");function inicializarReferencias(){secciones[1]=document.getElementById("seccion_1"),secciones[2]=document.getElementById("seccion_2"),secciones[3]=document.getElementById("seccion_3"),secciones[4]=document.getElementById("seccion_4"),secciones[5]=document.getElementById("seccion_5"),secciones[6]=document.getElementById("seccion_6"),secciones[7]=document.getElementById("seccion_7")}function cambiarSplash(){secciones[1].className="splash oculto",secciones[2].className="home"}function cambiarSeccion(e){for(var a in secciones)secciones[a].classList.add("oculto");secciones[e].classList.add("animated"),secciones[e].classList.add("fadeIn"),secciones[e].classList.remove("oculto")}function iniciarTablero(){var e=[],a="";contenido=document.getElementById("tablero");for(var i=0;i<25;i++){var s=Math.round(4*Math.random()+1);e[i]="<div> <img src='img/alien"+s+".PNG' onclick='casillaErronea()' class='alienOculto alienJuego'> </div>"}lista=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,0].sort(function(){return Math.random()-.5});for(i=0;i<NumeroEspeciales;i++){s=Math.round(4*Math.random()+1);e[lista[i]]="<div> <img src='img/alien"+s+".PNG' onclick='validar("+i+");' class='alienOculto alienJuego' id='especial"+i+"'> </div> ",ref_arr[i]=i}for(i=0;i<25;i++)a+=e[i];contenido.innerHTML=a}function validar(e){especiales[e].classList.remove("alienOculto"),especiales[e].classList.add("bounceIn"),resp_arr.push(e),comparar_ganador(ref_arr,resp_arr)}function comparar_ganador(e,a){for(var i=0;i<a.length;i++){if(e[i]!=a[i])return perdioVida(),jugando=!1,!1;if(i==e.length-1)return ganoRonda(),!0}}function casillaErronea(){perdioVida()}function aparecerAliens(){for(var e=0;e<NumeroEspeciales;e++)id=e.toString(),especiales[e]=document.getElementById("especial"+id);refTablero.classList.add("noClick"),refVolver.classList.add("noClick");var a=0;return new Promise(e=>{var i=setInterval(()=>{a>=NumeroEspeciales?(clearInterval(i),e("finalizo")):(especiales[a].classList.remove("alienOculto"),especiales[a].classList.add("bounceIn"),a++)},1e3)},e=>{0==jugando&&e("chao")})}function perdioVida(){1==vidas?(tiempoRonda=1,Swal.fire({title:"Game Over",timer:1e3}).then(e=>{e.dismiss===Swal.DismissReason.timer&&empezarDeCero()})):(vidas--,tiempoRonda=-3,desaparecerVida(),Swal.fire({title:"Perdiste Vida",timer:1e3}).then(e=>{e.dismiss===Swal.DismissReason.timer&&ronda()}))}function tiempoAcabo(){1==vidas?(tiempoRonda=-3,Swal.fire({title:"Game Over",timer:1e3}).then(e=>{e.dismiss===Swal.DismissReason.timer&&empezarDeCero()})):(vidas--,desaparecerVida(),Swal.fire({title:"Perdiste Vida",timer:1e3}).then(e=>{e.dismiss===Swal.DismissReason.timer&&ronda()}))}function desaparecerVida(){vectorVidas[vidas+1].classList.add("alienOculto"),vectorVidas[vidas+1].classList.add("bounceOut")}function ganoRonda(){6==rondaa?(ref_arr.length=0,resp_arr.length=0,Swal.fire({title:"Ganaste!",width:424,padding:"3em"})):(rondaa++,NumeroEspeciales++,tiempoRonda=-3,refRonda.innerHTML=rondaa.toString(),jugando=!1,Swal.fire({title:"Bien",timer:1e3}).then(e=>{e.dismiss===Swal.DismissReason.timer&&ronda()}))}function empezarDeCero(){NumeroEspeciales=3,vidas=3,rondaa=1,tiempoRonda=-3,jugando=!1;for(var e=1;e<4;e++)vectorVidas[e].classList.remove("alienOculto"),vectorVidas[e].classList.remove("bounceOut");cambiarSeccion(2)}function ronda(){ref_arr.length=0,resp_arr.length=0,jugando=!0,cambiarSeccion(3),iniciarTablero(),aparecerAliens().then(()=>{var e=0;return new Promise(a=>{var i=setInterval(()=>{e>=NumeroEspeciales?(clearInterval(i),a("finalizo")):(especiales[e].classList.add("alienOculto"),especiales[e].classList.add("bounceOut"),e++)},1e3)},e=>{0==jugando&&e("chao")})}).then(()=>(Swal.fire({title:"Empieza",timer:800}),refTablero.classList.remove("noClick"),refVolver.classList.remove("noClick"),tiempoRonda=15,new Promise(e=>{var a=setInterval(function(){tiempoRonda<=-3?(clearInterval(a),estaContando=!1,e("tiempoTerminado")):tiempoRonda<=-1?(tiempoAcabo(),clearInterval(a),estaContando=!1,e("tiempoTerminado")):puntaje.innerHTML=tiempoRonda--},1e3)})))}function freshDot(e){this.obj=document.createElement("div"),this.obj.classList.add("box"),this.obj.style.top=776*Math.random()+"px",this.obj.style.left=415*Math.random()+"px",this.size=Math.floor(5*Math.random())+7,this.obj.style.height=this.size+"px",this.obj.style.width=this.size+"px",e.appendChild(this.obj)}window.onload=function(){inicializarReferencias();var e=[],a=document.createElement("div");a.classList.add("fondopixel");for(var i=0;i<50;i++)e.push(new freshDot(a));document.body.appendChild(a),document.getElementById("imgSplash").src="img/Splash.gif",setTimeout(cambiarSplash,tiempo_splash),refRonda.innerHTML=1};